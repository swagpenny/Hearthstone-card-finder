(this.webpackJsonppennywang=this.webpackJsonppennywang||[]).push([[0],{16:function(e,t,a){e.exports=a.p+"static/media/fake-ad.492f6985.png"},38:function(e,t,a){e.exports=a.p+"static/media/like.f82579e9.png"},39:function(e,t,a){e.exports=a.p+"static/media/red.8619ce79.png"},41:function(e,t,a){e.exports=a(73)},46:function(e,t,a){},47:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},48:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(34),s=a.n(o),l=(a(46),a(47),a(14)),c=a(12),i=(a(48),a(3)),m=a(4),u=a(6),d=a(5),p=a(11),g=a.n(p),h=a(1),y=a.n(h),b=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).authUser=function(){y.a.post("/authUser",{username:document.getElementById("username").value,password:document.getElementById("password").value}).then((function(t){200===t.data.statusCode&&!0===t.data.success&&e.props.history.push("/dashboard")})).catch((function(e){return g()({title:"Ooops!",text:"Invalid username or password!",icon:"error",button:"Try Again!"})}))},e.signup=function(){e.props.history.push("/signup")},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar fixed-top bg-dark navbar-light "},r.a.createElement("h2",{className:"text-white nav-logo"},"MVC Project")),r.a.createElement("div",{id:"bg-img"},r.a.createElement("br",null),r.a.createElement("div",{className:"form-signin"},r.a.createElement("img",{className:"mx-auto d-block",src:"http://abdulromli.it.student.pens.ac.id/Maluku/img/ph.png",alt:"",width:"80",height:"80"}),r.a.createElement("h2",{className:"form-signin-heading",style:{textAlign:"center"}},"Log in"),r.a.createElement("input",{type:"name",id:"username",className:"form-control",placeholder:"Username",required:"",autoFocus:""}),r.a.createElement("input",{type:"password",id:"password",className:"form-control",placeholder:"Password",style:{marginTop:"12px"},required:""}),r.a.createElement("button",{className:"btn btn-lg btn-primary btn-block",onClick:this.authUser},"Log in"),r.a.createElement("h6",{style:{textAlign:"center",marginTop:"10px"}},"OR"),r.a.createElement("button",{className:"btn btn-lg btn-success btn-block",onClick:this.signup,type:"submit"},"Sign up"))))}}]),a}(n.Component),f=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).logIn=function(){e.props.history.push("/login")},e.signUp=function(){document.getElementById("register-btn").setAttribute("disabled","disabled");var e=document.getElementById("signUpForm"),t=new FormData(e);y.a.post("/createAccount",t,{headers:{"Content-Type":"multipart/form-data"}},{body:t}).then((function(e){400===e.data.status&&!1===e.data.success&&(document.getElementById("register-btn").removeAttribute("disabled"),g()({title:"Oh Snap!",text:"Something went wrong!",icon:"error",button:"Try Again!"})),200===e.data.status&&!0===e.data.success&&(document.getElementById("register-btn").removeAttribute("disabled"),g()({title:"Hurraahh!",text:"Your account has been created successfully!",icon:"success",button:"Ok!"}),document.getElementById("signUpForm").reset())})).catch((function(e){document.getElementById("register-btn").removeAttribute("disabled"),g()({title:"Oh Snap!",text:"Something went wrong!",icon:"error",button:"Try Again!"})}))},e.chkUsername=function(){y.a.post("/chkUsername",{params:{username:document.getElementById("username").value}}).then((function(e){""===e.data&&(document.getElementById("username-span").style.display="none",document.getElementById("register-btn").removeAttribute("disabled")),""!==e.data&&(document.getElementById("username-span").style.display="block",document.getElementById("register-btn").setAttribute("disabled","disabled"))})).catch((function(e){console.log(e)}))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar fixed-top bg-dark navbar-light "},r.a.createElement("h2",{className:"text-white"},"MVC Project")),r.a.createElement("form",{className:"form-signin",id:"signUpForm",name:"signUpForm"},r.a.createElement("br",null),r.a.createElement("img",{className:"mx-auto d-block",src:"http://abdulromli.it.student.pens.ac.id/Maluku/img/ph.png",alt:"",width:"80",height:"80"}),r.a.createElement("h2",{style:{textAlign:"center"}},"Sign up "),r.a.createElement("input",{type:"name",id:"username",className:"form-control",onChange:this.chkUsername,placeholder:"username",name:"username",required:!0}),r.a.createElement("span",{id:"username-span",style:{color:"red",display:"none",marginTop:"12px"},className:"help-block"},"username is already in use."),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"password",name:"password",required:!0,style:{marginTop:"12px"}}),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"re-enter password",required:!0}),r.a.createElement("label",null,"Upload your picture"),r.a.createElement("input",{type:"file",name:"ProfilePic",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-lg btn-success btn-block",id:"register-btn",type:"button",onClick:this.signUp},"Create Account"),r.a.createElement("button",{className:"btn btn-lg btn-info btn-block",onClick:this.logIn,type:"button"},"Back to log in page")))}}]),a}(n.Component),v=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).toggleShow=function(){var e=document.getElementById("password");"password"===e.type?e.type="text":e.type="password"},e.updatePass=function(){document.getElementById(""==="password".value)&&g()({title:"Oooops",text:"Please enter a valid password",icon:"erroe",button:"Re-Enter"}),fetch("/changePass",{method:"POST",body:JSON.stringify({newPass:document.getElementById("password").value}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){200===e.response[0]&&g()({title:"Success",text:"Password Changed!",icon:"success",button:"OK"})})).catch((function(e){console.log(e)}))},e.dashboard=function(){e.props.history.push("/dashboard")},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("nav",{className:"navbar fixed-top bg-dark navbar-light "},r.a.createElement("h2",{className:"text-white"},"MVC Project")),r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"form-signin"},r.a.createElement("img",{className:"mx-auto d-block",src:"https://www.thepopefirm.com/wp-content/uploads/2019/02/nku-change-password.png",alt:"",width:"80",height:"80"}),r.a.createElement("h2",{className:"form-signin-heading",style:{textAlign:"center"}},"Change Password"),r.a.createElement("input",{type:"password",id:"password",className:"form-control",placeholder:"Password",required:""}),r.a.createElement("input",{type:"checkbox",onClick:this.toggleShow})," Show Password",r.a.createElement("button",{className:"btn btn-lg btn-primary btn-block",onClick:this.updatePass},"Update Password"),r.a.createElement("button",{className:"btn btn-lg btn-success btn-block",onClick:this.dashboard,type:"submit"},"Go Back"))))}}]),a}(n.Component),E=a(35),w=a(16),k=a.n(w),x=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).setValues=function(t){e.props.history.push("/card/".concat(t.target.getAttribute("id")))},e.searchCard=function(){y.a.post("/searchCard",{keyword:Object(E.a)(e.refs.keyword.value)}).then((function(t){0===t.data.length?(document.getElementById("not-found-span").style.display="block",document.getElementById("all-cards").style.display="none"):(document.getElementById("not-found-span").style.display="none",document.getElementById("all-cards").style.display="block",e.setState({hearthStoneCards:t.data}))})).catch((function(e){return console.log(e)}))},e.typeSearch=function(t){y.a.post("/searchCardByType",{keyword:t.target.value}).then((function(t){var a=[];t.data.map((function(e){a.push(e)})),document.getElementById("not-found-span").style.display="none",document.getElementById("all-cards").removeAttribute("style"),e.setState({hearthStoneCards:a})})).catch((function(e){return console.log(e)}))},e.logout=function(){fetch("/logoutUser",{method:"POST"}).then((function(t){t.status&&e.props.history.push("/")}))},e.openNav=function(){document.getElementById("mySidenav").style.width="250px"},e.closeNav=function(){document.getElementById("mySidenav").style.width="0"},e.state={username:"",photo:null,rating:1,hearthStoneCards:[],searchResult:[]},e}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e=this,t=[];y.a.get("/cards").then((function(e){e.data.map((function(e){t.push(e)}))})).then((function(){e.setState({hearthStoneCards:t})})).catch((function(e){return console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0),fetch("/getUserInfo").then((function(e){return e.json()})).then((function(t){e.setState({username:t.username,photo:t.imgUrl})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{id:"mySidenav",style:{textAlign:"center"},className:"sidenav"},r.a.createElement("a",{className:"closebtn",onClick:this.closeNav},"\xd7"),r.a.createElement("img",{src:this.state.photo,className:"rounded-circle",height:"100px",width:"90px",alt:this.state.username}),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("h4",{style:{color:"white",textTransform:"capitalize"}},this.state.username),r.a.createElement(l.b,{to:"/favorites"},"My Favourites"),r.a.createElement(l.b,{to:"/updatePassword"},"Change Password")),r.a.createElement("nav",{style:{marginTop:"-40px"},className:"navbar bg-dark navbar-dark "},r.a.createElement("span",{style:{fontSize:"30px",cursor:"pointer",color:"white"},onClick:this.openNav},"\u2630"," "),r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("h4",{style:{color:"white",padding:"10px",textTransform:"capitalize"}},this.state.username)),r.a.createElement("ul",{className:"nav navbar-nav navbar-right"})),r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},r.a.createElement("li",null,r.a.createElement("button",{style:{padding:"10px"},type:"button",className:"btn btn-outline-danger btn-lg float-right ",onClick:this.logout},"Logout")))),r.a.createElement("br",null),r.a.createElement("div",{class:"input-group ",style:{width:"50%",marginLeft:"25%"}},r.a.createElement("select",{onChange:this.typeSearch,class:"custom-select",style:{marginRight:"10px"}},r.a.createElement("option",{selected:!0},"Filter cards by type"),r.a.createElement("option",{value:"Minion"},"Minion"),r.a.createElement("option",{value:"Spell"},"Spell"),r.a.createElement("option",{value:"Weapon"},"Weapon"),r.a.createElement("option",{value:"Hero"},"Hero")),r.a.createElement("input",{type:"text",class:"form-control",ref:"keyword",placeholder:"Search cards by name"}),r.a.createElement("div",{class:"input-group-append"},r.a.createElement("button",{class:"btn btn-secondary",onClick:this.searchCard,type:"button"},r.a.createElement("i",{class:"fas fa-search"})))),r.a.createElement("div",{className:"row justify-content-center",style:{marginTop:"25px"}},r.a.createElement("img",{src:k.a,width:window.innerWidth/1.3,alt:""})),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("strong",{id:"not-found-span",className:"text-center",style:{textAlign:"center",display:"none",marginTop:"50px"}},"No result found.Try another word")),r.a.createElement("div",{id:"all-cards",className:"row"},this.state.hearthStoneCards.map((function(t,a){return r.a.createElement("div",{className:"col-md-4",style:{textAlign:"center"},key:a},r.a.createElement("div",{style:{backgroundImage:"url(".concat(t.img,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",height:"500px"},id:t._id,onClick:e.setValues}),r.a.createElement("strong",{style:{marginTop:"30px"}},t.name))}))))}}]),a}(n.Component),N=a(40),C=a(21),I=a.n(C),B=a(38),S=a.n(B),O=a(39),j=a.n(O),T=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).changeRating=function(t){y.a.post("/saveRating",{id:e.state.id,rating:t,username:e.state.username}).then((function(){y.a.post("/getCardData",{id:e.state.id}).then((function(t){var a=[];t.data.ratings.map((function(t){a.push(t.rating),e.setState({overallrating:a.reduce((function(e,t){return e+t}),0)/a.length})}))}))})).catch((function(e){return console.log(e)})),e.setState({rating:t}),document.getElementById("rating-span").style.display="block",document.getElementById("rating").style.display="none"},e.logout=function(){fetch("/logoutUser",{method:"POST"}).then((function(t){t.status&&e.props.history.push("/")}))},e.postComment=function(){document.getElementById("no-comment").style.display="none",document.getElementById("ul").style.display="block",e.setState({comments:[].concat(Object(N.a)(e.state.comments),[{comment:e.refs.comment.value,date:(new Date).toJSON().slice(0,10).replace(/-/g,"/"),img:e.state.photo}])}),document.getElementById("ul").scrollTop=document.getElementById("ul").scrollHeight,y.a.post("/saveComment",{id:e.state.id,comment:e.refs.comment.value}).catch((function(e){return console.log(e)}))},e.dashboard=function(){e.props.history.push("/dashboard")},e.toggleHide=function(t){"unfavorite"===t.target.id&&(document.getElementById("unfavorite").style.display=" none",document.getElementById("favorite").style.display="inline-block",y.a.post("/addFavorite",{img:e.state.card,imgId:e.state.id}).catch((function(e){return console.log(e)}))),"favorite"===t.target.id&&(y.a.post("/removeFavorite",{img:e.state.card,imgId:e.state.id}).catch((function(e){return console.log(e)})),document.getElementById("favorite").style.display=" none",document.getElementById("unfavorite").style.display="inline-block")},e.state={username:"",photo:null,card:null,id:null,rating:0,overallrating:0,comments:[],cardRating:null},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0),fetch("/getUserInfo").then((function(e){return e.json()})).then((function(t){e.setState({username:t.username,photo:t.imgUrl,id:e.props.match.params.id})})).then((function(){y.a.get("/getFavorite").then((function(t){0===t.data.favorite.length?(document.getElementById("favorite").style.display=" none",document.getElementById("unfavorite").style.display="inline-block"):t.data.favorite.map((function(t){t.cardId===e.state.id&&(document.getElementById("unfavorite").style.display=" none",document.getElementById("favorite").style.display="inline-block")}))}))})).then((function(){y.a.post("/getCardData",{id:e.state.id}).then((function(t){e.setState({card:t.data.img,comments:t.data.comments});var a=[];t.data.ratings.map((function(t){a.push(t.rating),e.setState({overallrating:a.reduce((function(e,t){return e+t}),0)/a.length}),t.username===e.state.username&&(e.setState({cardRating:t.rating}),document.getElementById("rating").style.display="none",document.getElementById("rating-span").style.display="block")}))})).then((function(){0!=e.state.comments.length&&(document.getElementById("no-comment").style.display="none",document.getElementById("ul").style.display="block")}))}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{style:{marginTop:"-40px"},className:"navbar bg-dark navbar-dark "},r.a.createElement("button",{style:{padding:"10px"},type:"button",className:"btn btn-outline-info btn-lg float-left ",onClick:this.dashboard},"Back"),r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("h4",{style:{color:"white",padding:"10px",textTransform:"capitalize"}},this.state.username)),r.a.createElement("ul",{className:"nav navbar-nav navbar-right"})),r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},r.a.createElement("li",null,r.a.createElement("button",{style:{padding:"10px"},type:"button",className:"btn btn-outline-danger btn-lg float-right ",onClick:this.logout},"Logout")))),r.a.createElement("div",{className:"row justify-content-center",style:{marginTop:"25px"}},r.a.createElement("img",{src:k.a,width:window.innerWidth/1.3,alt:""})),r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-6 "},r.a.createElement("div",{style:{backgroundImage:"url(".concat(this.state.card,")"),height:"500px",width:"300px",marginTop:"-40px"}}),r.a.createElement("div",{style:{marginLeft:"60px",marginTop:"-20px"}},r.a.createElement(I.a,{id:"overall-rating",rating:this.state.overallrating,isSelectable:!1,starRatedColor:"#FEC22A",isAggregateRating:!0,starWidthAndHeight:"25px",starDimension:"25px",className:"StarRatings"}),r.a.createElement("img",{src:S.a,height:"30px",id:"unfavorite",onClick:this.toggleHide,style:{marginLeft:"25px"},width:"30px",alt:""}),r.a.createElement("img",{src:j.a,height:"30px",id:"favorite",onClick:this.toggleHide,style:{marginLeft:"25px",display:"none"},width:"30px",alt:""}),r.a.createElement("p",{style:{marginLeft:"10px"}},"Over all rating is ",this.state.overallrating.toFixed(2)))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{class:"detailBox mr-0",id:"commentBox",style:{marginTop:"80px"}},r.a.createElement("div",{class:"titleBox text-center"},r.a.createElement("label",null,"Comments")),r.a.createElement("div",{class:"actionBox"},r.a.createElement("h6",{id:"no-comment",style:{textAlign:"center"}},"No comments yet"),r.a.createElement("ul",{class:"commentList",id:"ul",style:{display:"none"}},this.state.comments.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("div",{class:"commenterImage"},r.a.createElement("img",{src:e.img,alt:e.username})),r.a.createElement("div",{class:"commentText"},r.a.createElement("p",{class:""},e.comment)," ",r.a.createElement("span",{class:"date sub-text"},"on ",e.date)))}))),r.a.createElement("div",{class:"form-inline"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{class:"form-control",type:"text",placeholder:"Your comments",ref:"comment"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("button",{class:"btn btn-default",onClick:this.postComment},"Add"))))),r.a.createElement("div",{id:"rating",style:{marginLeft:"120px"}},r.a.createElement(I.a,{rating:this.state.rating,starRatedColor:"#FEC22A",starHoverColor:"#FEC02A",changeRating:this.changeRating,numberOfStars:5,isSelectable:!1,starDimension:"25px",name:"rating"}),r.a.createElement("br",null),r.a.createElement("span",{style:{marginLeft:"50px"}},"Rate this card")),r.a.createElement("span",{style:{display:"none",marginLeft:"120px"},id:"rating-span"},"You've rated this card"," ",this.state.cardRating||this.state.rating," stars"))))}}]),a}(n.Component),A=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).login=function(){e.props.history.push("/login")},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",{style:{textAlign:"center"}},"Successfully Created"),r.a.createElement("button",{className:"btn-success",style:{marginLeft:"45%"},onClick:this.login},"Get Started"))}}]),a}(n.Component),P=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).logout=function(){fetch("/logoutUser",{method:"POST"}).then((function(e){e.status&&n.props.history.push("/")}))},n.state={username:null,favorites:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;y.a.get("/getUserInfo").then((function(t){e.setState({username:t.data.username})})).then((function(){y.a.get("/getFavorite").then((function(t){e.setState({favorites:t.data.favorite})}))}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{style:{marginTop:"-40px"},className:"navbar bg-dark navbar-dark "},r.a.createElement(l.b,{style:{padding:"10px"},type:"button",className:"btn btn-outline-info btn-lg float-left ",to:"/dashboard"},"Back"),r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("h4",{style:{color:"white",padding:"10px",textTransform:"capitalize"}},this.state.username)),r.a.createElement("ul",{className:"nav navbar-nav navbar-right"})),r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},r.a.createElement("li",null,r.a.createElement("button",{style:{padding:"10px"},type:"button",className:"btn btn-outline-danger btn-lg float-right ",onClick:this.logout},"Logout")))),r.a.createElement("h3",{style:{textAlign:"center",marginTop:"20px"}},"My Favourites"),r.a.createElement("div",{id:"all-cards",className:"row justify-content-center"},this.state.favorites.map((function(e,t){return r.a.createElement("div",{className:"col-md-4",key:t},r.a.createElement("div",{className:"img-fluid",style:{backgroundImage:"url(".concat(e.img,")"),backgroundRepeat:"no-repeat",backgroundPosition:"center",height:"500px"}}))}))))}}]),a}(n.Component);var U=function(){return r.a.createElement(l.a,{className:"App"},r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/",component:b}),r.a.createElement(c.a,{path:"/login",component:b}),r.a.createElement(c.a,{path:"/signup",component:f}),r.a.createElement(c.a,{path:"/dashboard",component:x}),r.a.createElement(c.a,{path:"/card/:id",component:T}),r.a.createElement(c.a,{path:"/updatePassword",component:v}),r.a.createElement(c.a,{path:"/success",component:A}),r.a.createElement(c.a,{path:"/favorites",component:P})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.4ff86249.chunk.js.map